AT_INIT
AT_COLOR_TESTS
AT_SETUP([td.sh])

AT_CHECK([$abs_top_builddir/src/td.sh 0],,
[0 seconds
])

AT_CHECK([$abs_top_builddir/src/td.sh 1],,
[1 second
])

AT_CHECK([$abs_top_builddir/src/td.sh -- -1],,
[1 second
])

AT_CHECK([$abs_top_builddir/src/td.sh 2],,
[2 seconds
])

AT_CHECK([$abs_top_builddir/src/td.sh 60],,
[1 minute
])

AT_CHECK([$abs_top_builddir/src/td.sh 61],,
[1 minute 1 second
])

AT_CHECK([$abs_top_builddir/src/td.sh 3599],,
[59 minutes 59 seconds
])

AT_CHECK([$abs_top_builddir/src/td.sh 3600],,
[1 hour
])

AT_CHECK([$abs_top_builddir/src/td.sh 3601],,
[1 hour 1 second
])

AT_CHECK([$abs_top_builddir/src/td.sh 3660],,
[1 hour 1 minute
])

AT_CHECK([$abs_top_builddir/src/td.sh 3661],,
[1 hour 1 minute 1 second
])

AT_CHECK([$abs_top_builddir/src/td.sh 86400],,
[1 day
])

AT_CHECK([
  let s=86400+86400-1
  $abs_top_builddir/src/td.sh $s
],,
[1 day 23 hours 59 minutes 59 seconds
])

AT_CHECK([
  let s=2*86400+86400-1
  $abs_top_builddir/src/td.sh $s
],,
[2 days 23 hours 59 minutes 59 seconds
])

AT_CHECK([
  let s=366*86400+1
  $abs_top_builddir/src/td.sh $s
],,
[366 days 1 second
])

AT_CHECK([$abs_top_builddir/src/td.sh -P 1],,
[1 second @&t@
])

AT_CHECK([$abs_top_builddir/src/td.sh -P 60],,
[1 minute @&t@
])

AT_CHECK([$abs_top_builddir/src/td.sh -P -p 60],,
[ 1 minute @&t@
])

AT_CHECK([$abs_top_builddir/src/td.sh -P -p0 60],,
[01 minute @&t@
])

AT_CHECK([$abs_top_builddir/src/td.sh -p -a 60],,
[ 0 days  0 hours  1 minute  0 seconds
])

AT_CHECK([$abs_top_builddir/src/td.sh -P -a 60],,
[0 days 0 hours 1 minute  0 seconds
])

AT_CHECK([$abs_top_builddir/src/td.sh -P -p -a 60],,
[ 0 days  0 hours  1 minute   0 seconds
])

AT_CHECK([$abs_top_builddir/src/td.sh 1 60],,
[1 second
1 minute
])

AT_CLEANUP
